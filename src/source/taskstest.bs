import "pkg:/source/tasks.bs"

function Caller()
    print source_function_name
    m.task = StartTask("TaskWithResult", "TaskCallbackWithResult")
end function

@asynctask
function TaskWithResult() as string
    return "OK"
end function

function TaskCallbackWithResult()
    output = m.task.output
    print(output.result)
end function
